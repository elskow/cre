2024/07/01 14:30:15 [error] 123#123: *456 SSL certificate verify failed (18: self signed certificate) while SSL handshaking to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /api/v1/status HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/status", host: "api.example.com"
2024/07/01 14:30:15 [error] 123#123: *456 upstream SSL certificate verify failed (18: self signed certificate) while connecting to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /api/v1/status HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/status", host: "api.example.com"
2024/07/01 14:30:16 [error] 123#123: *789 SSL connect error while connecting to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /api/v1/data HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/data", host: "api.example.com"
10.244.0.1 - - [01/Jul/2024:14:30:16 +0000] "GET /api/v1/status HTTP/1.1" 502 157 "-" "curl/8.7.1" ssl_protocol="TLSv1.3" ssl_cipher="TLS_AES_256_GCM_SHA384" upstream_addr="172.20.0.3:443" upstream_status="502" upstream_response_time="0.005"
2024/07/01 14:30:17 [error] 123#123: *890 SSL handshake failed (SSL: error:14094418:SSL routines:ssl3_read_bytes:tlsv1 alert unknown ca) while SSL handshaking to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /health HTTP/1.1", upstream: "https://172.20.0.3:443/health", host: "api.example.com"
2024/07/01 14:30:17 [error] 123#123: *890 upstream SSL certificate verify failed (20: unable to get local issuer certificate) while connecting to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /health HTTP/1.1", upstream: "https://172.20.0.3:443/health", host: "api.example.com"
10.244.0.1 - - [01/Jul/2024:14:30:17 +0000] "GET /health HTTP/1.1" 502 Bad Gateway 157 "-" "curl/8.7.1" ssl_protocol="TLSv1.3" ssl_cipher="TLS_AES_256_GCM_SHA384" upstream_addr="172.20.0.3:443" upstream_status="502" upstream_response_time="0.003"
2024/07/01 14:30:18 [error] 123#123: *901 certificate verify error: (10:certificate has expired) while SSL handshaking to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /api/v1/secure HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/secure", host: "api.example.com"
2024/07/01 14:30:18 [error] 123#123: *901 SSL connect error (certificate verify failed) while connecting to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /api/v1/secure HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/secure", host: "api.example.com"
10.244.0.1 - - [01/Jul/2024:14:30:18 +0000] "GET /api/v1/secure HTTP/1.1" 503 Service Unavailable 157 "-" "curl/8.7.1" ssl_protocol="TLSv1.3" ssl_cipher="TLS_AES_256_GCM_SHA384" upstream_addr="172.20.0.3:443" upstream_status="503" upstream_response_time="0.002"
2024/07/01 14:30:19 [error] 123#123: *912 SSL certificate verify failed (19: self signed certificate in certificate chain) while SSL handshaking to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /api/v1/data HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/data", host: "api.example.com"
2024/07/01 14:30:19 [error] 123#123: *912 upstream SSL certificate verify failed (19: self signed certificate in certificate chain) while connecting to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /api/v1/data HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/data", host: "api.example.com"
10.244.0.1 - - [01/Jul/2024:14:30:19 +0000] "GET /api/v1/data HTTP/1.1" 502 Bad Gateway 157 "-" "curl/8.7.1" ssl_protocol="TLSv1.3" ssl_cipher="TLS_AES_256_GCM_SHA384" upstream_addr="172.20.0.3:443" upstream_status="502" upstream_response_time="0.004"
2024/07/01 14:30:20 [error] 123#123: *923 SSL handshake failed (SSL: error:14094416:SSL routines:ssl3_read_bytes:sslv3 alert certificate unknown) while SSL handshaking to upstream, client: 10.244.0.1, server: web.example.com, request: "GET / HTTP/1.1", upstream: "https://172.20.0.4:443/", host: "web.example.com"
2024/07/01 14:30:20 [error] 123#123: *923 SSL connect error (handshake failure) while connecting to upstream, client: 10.244.0.1, server: web.example.com, request: "GET / HTTP/1.1", upstream: "https://172.20.0.4:443/", host: "web.example.com"
10.244.0.1 - - [01/Jul/2024:14:30:20 +0000] "GET / HTTP/1.1" 503 Service Unavailable 157 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)" ssl_protocol="TLSv1.3" ssl_cipher="TLS_AES_256_GCM_SHA384" upstream_addr="172.20.0.4:443" upstream_status="503" upstream_response_time="0.001"
2024/07/01 14:30:21 [error] 123#123: *934 certificate verify error: (62:hostname mismatch) while SSL handshaking to upstream, client: 10.244.0.1, server: api.example.com, request: "POST /api/v1/submit HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/submit", host: "api.example.com"
2024/07/01 14:30:21 [error] 123#123: *934 upstream SSL certificate verify failed (62: hostname mismatch) while connecting to upstream, client: 10.244.0.1, server: api.example.com, request: "POST /api/v1/submit HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/submit", host: "api.example.com"
10.244.0.1 - - [01/Jul/2024:14:30:21 +0000] "POST /api/v1/submit HTTP/1.1" 502 Bad Gateway 157 "-" "curl/8.7.1" ssl_protocol="TLSv1.3" ssl_cipher="TLS_AES_256_GCM_SHA384" upstream_addr="172.20.0.3:443" upstream_status="502" upstream_response_time="0.006"
2024/07/01 14:30:22 [error] 123#123: *945 SSL certificate verify failed (21: unable to verify the first certificate) while SSL handshaking to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /api/v1/metrics HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/metrics", host: "api.example.com"
2024/07/01 14:30:22 [error] 123#123: *945 SSL connect error (certificate chain verification failed) while connecting to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /api/v1/metrics HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/metrics", host: "api.example.com"
10.244.0.1 - - [01/Jul/2024:14:30:22 +0000] "GET /api/v1/metrics HTTP/1.1" 503 Service Unavailable 157 "-" "Prometheus/2.45.0" ssl_protocol="TLSv1.3" ssl_cipher="TLS_AES_256_GCM_SHA384" upstream_addr="172.20.0.3:443" upstream_status="503" upstream_response_time="0.002"
2024/07/01 14:30:23 [error] 123#123: *956 upstream timed out (110: Connection timed out) while SSL handshaking to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /api/v1/slow HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/slow", host: "api.example.com"
2024/07/01 14:30:23 [error] 123#123: *956 upstream timed out SSL while connecting to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /api/v1/slow HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/slow", host: "api.example.com"
10.244.0.1 - - [01/Jul/2024:14:30:23 +0000] "GET /api/v1/slow HTTP/1.1" 502 Bad Gateway 157 "-" "curl/8.7.1" ssl_protocol="TLSv1.3" ssl_cipher="TLS_AES_256_GCM_SHA384" upstream_addr="172.20.0.3:443" upstream_status="502" upstream_response_time="5.001"
2024/07/01 14:30:24 [error] 123#123: *967 SSL handshake failed (SSL: error:1417A0C1:SSL routines:tls_post_process_client_hello:no shared cipher) while SSL handshaking to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /api/v1/legacy HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/legacy", host: "api.example.com"
2024/07/01 14:30:24 [error] 123#123: *967 upstream SSL handshake failed (no shared cipher) while connecting to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /api/v1/legacy HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/legacy", host: "api.example.com"
10.244.0.1 - - [01/Jul/2024:14:30:24 +0000] "GET /api/v1/legacy HTTP/1.1" 503 Service Unavailable 157 "-" "curl/8.7.1" ssl_protocol="TLSv1.3" ssl_cipher="TLS_AES_256_GCM_SHA384" upstream_addr="172.20.0.3:443" upstream_status="503" upstream_response_time="0.003"
2024/07/01 14:30:25 [error] 123#123: *978 certificate verify error: (9:certificate is not yet valid) while SSL handshaking to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /api/v1/future HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/future", host: "api.example.com"
2024/07/01 14:30:25 [error] 123#123: *978 SSL connect error (certificate not yet valid) while connecting to upstream, client: 10.244.0.1, server: api.example.com, request: "GET /api/v1/future HTTP/1.1", upstream: "https://172.20.0.3:443/api/v1/future", host: "api.example.com"
10.244.0.1 - - [01/Jul/2024:14:30:25 +0000] "GET /api/v1/future HTTP/1.1" 502 Bad Gateway 157 "-" "curl/8.7.1" ssl_protocol="TLSv1.3" ssl_cipher="TLS_AES_256_GCM_SHA384" upstream_addr="172.20.0.3:443" upstream_status="502" upstream_response_time="0.004"

# Backend API Logs
backend-api_1  | 2024/07/01 14:30:15 [error] 25#25: *1 SSL_do_handshake() failed (SSL: error:14094418:SSL routines:ssl3_read_bytes:tlsv1 alert unknown ca) while SSL handshaking, client: 172.20.0.2, server: 0.0.0.0:443
2024/07/01 14:30:16 [error] 25#25: *2 no suitable peer certificate available while SSL handshaking, client: 172.20.0.2, server: 0.0.0.0:443
2024/07/01 14:30:17 [error] 25#25: *3 SSL_do_handshake() failed (SSL: error:14094416:SSL routines:ssl3_read_bytes:sslv3 alert certificate unknown) while SSL handshaking, client: 172.20.0.2, server: 0.0.0.0:443
2024/07/01 14:30:18 [error] 25#25: *4 SSL_do_handshake() failed (SSL: error:14094415:SSL routines:ssl3_read_bytes:sslv3 alert certificate expired) while SSL handshaking, client: 172.20.0.2, server: 0.0.0.0:443
2024/07/01 14:30:19 [error] 25#25: *5 SSL_do_handshake() failed (SSL: error:14094419:SSL routines:ssl3_read_bytes:tlsv1 alert access denied) while SSL handshaking, client: 172.20.0.2, server: 0.0.0.0:443
